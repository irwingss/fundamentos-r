---
title: "Laboratorio 2"
subtitle: "Curso: Fundamentos de programaciÃ³n con R"
author: "Irwing S. SaldaÃ±a"
format:
  html:
    dpi: 600
    smooth-scroll: true
    search: false
    code-summary: "ooo"
    code-fold: false
    code-overflow: wrap
    code-block-bg: true
    code-block-border-left: "#5000ef"
    linkcolor: "#5000ef"
    highlight-style: ayu
    code-link: true
    code-copy: true
    language: esp
    toc-location: left
    toc-depth: 3
    toc-title: "Contenidos"
    number-sections: true
editor: visual
editor_options: 
  chunk_output_type: console
---

# **Carga de datos desde excel a RStudio**

Esta secciÃ³n te ayudarÃ¡ a reforzar el manejo de las estructuras y las clases de variables que existen en R para almacenar la informaciÃ³n. Primero, aprenderÃ¡s a cargar bases de datos externas a RStudio. Puedes hacerlo desde diversos tipos de archivos, pero comenzaremos con lo mÃ¡s bÃ¡sico: un archivo Excel.

```{r}
# Instala la librerÃ­a y actÃ­vala
# install.packages("openxlsx")


# Carga el excel



# Definiendo el reemplazo de los espacios en blanco de los nombres de columnas



# Revisa la base con las funciones aprendidas



```

Ahora a partir de un archivo delimitado por comas (CSV).

```{r}
# Abrir el archivo cane.csv


# Revisa la base con las funciones aprendidas


```

Finalmente, activemos una base de datos que ya estÃ¡ pre-instalada en R. Estas siempre se encuentran dentro de algÃºn paquete especÃ­fico

```{r}
# install.packages("datarium")


# Revisa la base con las funciones aprendidas


```


# **50 funciones comunes en R**

```{r, eval=FALSE, echo=TRUE}
%>%              # Pipe
|>               # Pipe nativo
mean()           # Promedio
median()         # Mediana
sd()             # DesviaciÃ³n estÃ¡ndar
var()            # Varianza
quantile()       # CÃ¡lculo de cuantiles
range()          # Rango de valores
seq_along()      # Secuencia numÃ©rica entre el mÃ¡ximo y mÃ­nimo
sum()            # Sumatoria
cumsum()         # Suma acumulada
prod()           # Productorio
cumprod()        # Producto acumulado
max()            # Valor mÃ¡ximo
min()            # Valor mÃ­nimo

seq()            # Crear secuencia
rep()            # Crear vector de repeticiones
paste0()         # Concatenar strings (textos) sin dejar espacio
paste()          # Concatenar strings (textos)
sort()           # Reordenar de menor a mayor, o viceversa
rev()            # Revertir el orden
unique()         # Valores Ãºnicos en un vector
scale()          # TransformaciÃ³n: EstandarizaciÃ³n
lm()             # Crear modelo lineal
glm()            # Crear modelo generalizado lineal
aov()            # Crear anova
summary()        # Ver resumen estadÃ­stico de un objeto de modelamiento
chisq.test()     # Crear prueba de chi cuadrado
t.test()         # Crear prueba de t
cor.test()       # Calcular la correlaciÃ³n entre dos vectores

plot()           # Plot bÃ¡sico
hist()           # Histograma de un vector
boxplot()        # Boxplot o grÃ¡fico de cajas
plot(density())  # GrÃ¡fico de densidad
getwd()          # Obtener el directorio de trabajo actual
setwd()          # Definir un directorio de trabajo
str()            # Ver la estructura de un objeto
View()           # Observar una tabla o lista como una pestaÃ±a
names()          # Ver los nombres de un objeto (nombres de columna)
length()         # Obtener la cantidad de elementos de un vector
ncol()           # Obtener el nÃºmero de columnas
nrow()           # Obtener el nÃºmero de filas
head()           # Visualizar las primeras 6 filas de una tabla
tail()           # Visualizar las Ãºltimas 6 filas de una tabla

rm()             # Remover un objeto
ls()             # Lista de objetos en el ambiente
rm(ls())         # Eliminar todos los objetos del ambiente
dev.off()        # Reiniciar la salida grÃ¡fica
install.packages() # Instalar una librerÃ­a
remove.packages()  # Eliminar una librerÃ­a
library()        # Activar una librerÃ­a
require()        # Activar una librerÃ­a
table()          # Crear una matriz de contingencia
data()           # Cargar bases de dato de ejemplo en R
round()          # Redondear dÃ­gitos
print()          # Imprimir un objeto
```

# **Estructuras de datos y clases**

Es hora de poner en prÃ¡ctica lo aprendido sobre la estructura (vectores, factores, data.frame y listas), asÃ­ como las clases (numeric, integer, character, logical) de variable. Utilizaremos algunas de las 50 funciones bÃ¡sicas en R que se les presentÃ³ anteriormente (ver en el chunk anterior). 

**Por si se necesite, aquÃ­ les dejo unos emojis:** 

ğŸ˜ğŸ˜®ğŸ˜‰   ğŸš‘âœˆï¸ğŸ”´   âš½ğŸ”ğŸ»  ğŸŒ¾  ğŸ¬ğŸ¦€ğŸ¤ğŸ   ğŸ’©

## **IndexaciÃ³n y uso de bases de data.frames**

```{r}
# Indexar columnas para un grÃ¡fico bÃ¡sico, re-bÃ¡sico, mega-simple, con la querida y odiada funciÃ³n plot().

# Usa la base de datos cane para crear un grÃ¡fico de dispersiÃ³n de puntos con las columnas n y r.




# Ahora veamos la correlaciÃ³n de Pearson entre estas columnas
# Primero abre el Viewer de la base cane



# Â¿CuÃ¡les serÃ­an las 3 maneras de indexar las columnas n y r?



# Crea un grÃ¡fico de funciÃ³n de densidad sencillo de las columnas n y r



# Crea un boxplot con la columna block



mis_colores <- c("royalblue","darkorange", "firebrick", "forestgreen")



# Crea un histograma de frecuencias con las columnas n y r



```

## **IndexaciÃ³n y uso de bases de factores**

```{r}
# Revisemos la columna block de la base cane



# Convertir dicha columna a factor



# Crear una nueva data.frame con las columnas n, r y block
new_cane <- ...

new_cane2 <- ...

# Revisa las primeras 6 filas



```


## Trabajo con vectores y factores: uso e importancia

```{r}
# ResÃºmenes estadÃ­sticos rÃ¡pidos



# GrÃ¡ficos de pares 
# (tu primera impresiÃ³n de ggplot2)
# install.packages("GGally")



# CÃ¡lculos estadÃ­sticos
# Â¿Y el coeficiente de variaciÃ³n?




# Aplicando el cÃ¡lculo estadÃ­stico por grupo



# Â¿Y si nos ahorramos la indexaciÃ³n?: uso de with()

promedio <- ...

desvest <- ...

varianza <- ...

minimo <- ...

maximo <- ...

categorias <- ...

# Unir todos los vectores creados en una sola data.frame como resumen estadÃ­stico



# Exportar el resumen estadÃ­stico (data.frame)



```

## **Listas y mÃ¡s listas**

```{r}
# Convertir una data.frame a lista

res_est_Lista <- ...

# Indexando una lista nombrada



# Creando una lista sin nombres desde cero



# Creando una lista nombrada desde cero




# Indexa estos retos:
# Ubica el valor de la varianza de la categorÃ­a C ubicada
# en el elemento "res_est", tanto en la lista nombrada y no nombrada




# Des-enlistar una lista, un proceso importante
# Ejecuta este ejemplo de automatizaciÃ³n de 
# creaciÃ³n y comparaciÃ³n de modelos

data("iris") # data

lista_modelos <- lst() # lista vacÃ­a

for (i in 1:4) {
  lista_modelos[[i]] <- lm(iris[,i] ~ Species, data = iris)
} # loop for

lista_modelos # visualizar lista de modelos. Importante!!

lista_AIC <- lapply(lista_modelos, AIC) # aplicar el cÃ¡lculo de AIC

names(lista_AIC) <- names(iris)[-5] # darle nombre a cada AIC

lista_AIC # revisar la lista de AIC de los modelos resultante de lapply() 

# des-enlistar



```

# **Â¿MÃ¡s prÃ¡ctica?**

Ya comprendes:

- CÃ³mo se crean las diferentes *estructuras de datos* mÃ¡s importantes (vectores, factores, listas y data.frame).

- CÃ³mo reconocer las diferentes *clases de datos* (numeric, integer, character, logical) y sus aplicaciones. 

- CÃ³mo funciona la *indexaciÃ³n* con `$`, `[]`, `[[]]`.

- CÃ³mo *importar y exporta bases* de datos desde/hacia tu equipo.

- El uso de algunas *funciones bÃ¡sicas* de R.

- La *visualizaciÃ³n bÃ¡sica* de datos en R, y la existencia de *ggplot2*. 

- Â¡La existencia de el *loop for*!


Emplea las demÃ¡s bases de datos para comenzar a aplicar indexaciÃ³n con la finalidad de crear grÃ¡ficos y aplicar funciones estadÃ­sticas que aquÃ­ hemos revisado.

Y como siempre, puedes seguÃ­r capacitÃ¡ndote con la versiÃ³n beta de mi libro ["IntroducciÃ³n a R para Ciencias." ](https://irwingss.github.io/intro_r_ciencias/)


